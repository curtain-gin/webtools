{% extends 'web/layout/layoutlast.html' %}
{%  load static %}
{% block css %}
    <link href="{% static "css/sb-admin-2.min.css" %}" rel="stylesheet"  />
    <link href={% static "vendor/datatables/dataTables.bootstrap4.min.css" %} rel="stylesheet" />
{% endblock %}
{% block content %}
    <div class="p-5">
        <form method="post" novalidate>
        {% csrf_token %}
            <h3>SQL查询</h3>
            <hr>
               <div class="row">
                   <div class=" col-md-2  selectpicker">
                        <select  name ="select_environment" class=" form-control form-control-user"  >
                            <option value="test">测试环境</option>
                            <option  value="dev">开发环境</option>
                            <option  value="default">平台环境</option>
                        </select>
                   </div>
                   <div class="col-md-9 ">
                                <textarea name="sql_data" class="form-control form-control-user " required="" id=sql_data"">select</textarea>
                   </div>



               </div>

                <button type="submit " class="btn btn-primary pull-right " style="margin-right: 20px ;margin-top: 5px ;font-size:12px">查询sql</button>
        </form>
    </div>

    <div class="container-fluid">
        <div class="card shadow mb-4">
                    <!-- DataTales Example -->
                        <div class="card-header py-3">
                        </div>
                        <div class="card-body">


                            <div class="table-responsive">
                                <table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
                                    <thead>
                                            <tr>
                                             <th>序号</th>
                                                {% for i  in oo%}
                                                    <th>{{ i }}</th>
                                                {% endfor %}


                                            </tr>
                                        </thead>
                                        <tbody>
                                        {%  for ff in dd %}
                                             <tr>
                                                <td  class=" test_cs ">{{ forloop.counter}}</td>
                                                {% for ii in ff %}


                                                 <td  class=" test_cs ">{{ii}}</td>
{#                                                    <td  class=" test_cs ">{{ ff.i}}</td>#}

                                                {% endfor %}

                                             </tr>

                                        {% endfor %}


                                        </tbody>
                                </table>
                            </div>

                        </div>

                    </div>

                    {% for i in pp %}
                    <p style="color: red">   {{ i.sql }} </p>

                    <p style="color: red">   {{ i.sql2 }} </p>
                    {% endfor %}
                </div>

{% endblock %}
{% block js %}
    <script src="{% static '/vendor/datatables/jquery.dataTables.min.js' %}"></script>
    <script src="{% static '/vendor/datatables/dataTables.bootstrap4.min.js' %}"></script>
    <script src="{% static '/js/demo/datatables-demo.js' %}"></script>
{% endblock %}